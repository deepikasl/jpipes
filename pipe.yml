resources:
  
  - name: testwebhookInternal
    type: webhook
    configuration:
      integrationName: varsha_internalWebhook
    version:
      payload: "from_resource_internal"

pipelines:
  - name: testVarsha_pipeline
    steps:  
      - name: outputWebhook
        type: bash
        requires:
          integrations:
            - varsha_internalWebhook
        execution:
          onExecute:
            - write_output testwebhookInternal "payload=update_from_step_for_Internalwebhook_resource"
          onComplete:
            - echo "Yeah, posted output resource"
        outputResources:
          - testwebhookInternal
            
      - name: triggeredBy_webhookResource
        type: bash
        triggeredBy:
          resources:
            - testwebhookInternal
        execution:
          onExecute:
            - printenv
          onComplete:
            - echo "Oh Yeah Done!"

